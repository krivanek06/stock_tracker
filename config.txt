"stock-tracker-common-interfaces": "file:../common-interfaces"


######### firebase change projects
- gcloud projects list
- gcloud config set project XXX

######### build client
- increase version
- add change log

########## FLASK
# before
- in Dockerfile change last config
- remove uWSGI from requirements.txt

# deployment - TEST - europe-north1 - 13
- run :  gcloud builds submit --tag gcr.io/stocktrackertest-e51fc/server_flask
- run :  gcloud run deploy --image gcr.io/stocktrackertest-e51fc/server_flask --platform managed --max-instances=1

# deployment - PROD - europe-central2 - 12
- run :  gcloud builds submit --tag gcr.io/stock-tracker-prod/server_flask
- run :  gcloud run deploy --image gcr.io/stock-tracker-prod/server_flask --platform managed --max-instances=1



########## GRAPHQL
# before
- environments -> production == true, stockDataAPI

# deployment - TEST - europe-north1 - 13
- run :  gcloud builds submit --tag gcr.io/stocktrackertest-e51fc/server_graphql
- run :  gcloud run deploy --image gcr.io/stocktrackertest-e51fc/server_graphql --platform managed --max-instances=1

# deployment - PROD - europe-central2 - 12
- run :  gcloud builds submit --tag gcr.io/stock-tracker-prod/server_graphql
- run :  gcloud run deploy --image gcr.io/stock-tracker-prod/server_graphql --platform managed --max-instances=1


########## Functions
firebase deploy --only functions --project prod



########### Migrating on version 1.
run 'database-adjustment.ts' on production DB
run 'updateGroupStats' function on all groups