<app-page-grid-layout pageIcon="grid" pageName="Dashboard">
	<!-- portfolio state -->
	<ion-row class="ion-justify-content-center">
		<ion-col size="12">
			<app-portfolio-state [portfolioCash]="user.portfolio.portfolioCash" [portfolioInvested]="portfolioInvested"> </app-portfolio-state>
		</ion-col>
	</ion-row>

	<!-- portfolio change  weekly / monthly etc. -->
	<app-dashboard-portfolio-change
		[lastPortfolioIncreaseNumber]="user.portfolio.lastPortfolioIncreaseNumber"
		[portfolioCash]="user.portfolio.portfolioCash"
		[portfolioInvested]="portfolioInvested"
		[stPortfolioSnapshots]="user.userHistoricalData.portfolioSnapshots"
	></app-dashboard-portfolio-change>

	<!-- portfolio change charts -->
	<app-dashboard-portfolio-change-charts
		[portfolioCash]="user.portfolio.portfolioCash"
		[portfolioInvested]="portfolioInvested"
		[stPortfolioSnapshots]="user.userHistoricalData.portfolioSnapshots"
	></app-dashboard-portfolio-change-charts>

	<!-- holdings table -->
	<app-dashboard-holdings-table
		[holdings]="clonedHoldings"
		[totalPortfolio]="portfolioInvested + user.portfolio.portfolioCash"
	></app-dashboard-holdings-table>

	<!-- holdings pie charts -->
	<ion-row *ngIf="user.holdings.length > 0" class="ion-margin-vertical ion-justify-content-around">
		<!-- holdings sector -->
		<ion-col size="12" size-md="6">
			<app-pie-chart-wrapper [data]="user.holdings | holdingsToSectorChartSeries" [heightPx]="300" chartTitle="holdings"></app-pie-chart-wrapper>
		</ion-col>

		<!-- holdings allocation -->
		<ion-col size="12" size-md="6">
			<app-pie-chart-wrapper
				[data]="user.holdings | holdingsToPortfolioChartSeries:  user.portfolio.portfolioCash"
				[heightPx]="300"
				chartTitle="Holdings allocation"
			></app-pie-chart-wrapper>
		</ion-col>
	</ion-row>

	<!-- transactions -->
	<app-dashboard-transactions
		[stTransactionSnapshots]="user.userHistoricalData.transactionSnapshots"
		[transactions]="user.transactionsSnippets | slice:0:5"
	></app-dashboard-transactions>
</app-page-grid-layout>
