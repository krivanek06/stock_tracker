<ion-content class="ion-padding">
    <!-- menu page header -->
    <app-menu-header></app-menu-header>

    <!-- header -->
    <app-header [pageIcon]="'grid'" [pageName]="'Dashboard'"></app-header>

    <ion-grid *ngIf="user">

        <!-- portfolio state -->
        <app-dashboard-portfolio-state
                [portfolioCash]="user.portfolioCash"
                [portfolioInvested]="portfolioInvested">
        </app-dashboard-portfolio-state>

        <!-- portfolio change  weekly / monthly etc. -->
        <app-dashboard-portfolio-change
                [stPortfolioSnapshots]="user.userHistoricalData.portfolioSnapshots"
                [portfolioCash]="user.portfolioCash"
                [portfolioInvested]="portfolioInvested">
        </app-dashboard-portfolio-change>

        <!-- portfolio change charts -->
        <app-dashboard-portfolio-change-charts
                [portfolioCash]="user.portfolioCash"
                [portfolioInvested]="portfolioInvested"
                [stPortfolioSnapshots]="user.userHistoricalData.portfolioSnapshots">
        </app-dashboard-portfolio-change-charts>

        <!-- holdings table -->
        <app-dashboard-holdings-table
                [totalPortfolio]="portfolioInvested + user.portfolioCash"
                [stTransactions]="clonedHoldings">
        </app-dashboard-holdings-table>

        <!-- holdings sector + allocation -->
        <app-dashboard-holdings-allocation
                *ngIf="clonedHoldings.length > 0"
                [portfolioInvested]="portfolioInvested"
                [portfolioCash]="user.portfolioCash"
                [stTransactions]="user.holdings">
        </app-dashboard-holdings-allocation>

        <!-- transactions -->
        <app-dashboard-transactions
                [transactions]="user.transactionsSnippets | slice:0:5"
                [stTransactionSnapshots]="user.userHistoricalData.transactionSnapshots">
        </app-dashboard-transactions>
    </ion-grid>
</ion-content>
