<ion-card *ngIf="stockDetails.queryStockDetails as details">
    <ion-card-content>
        <ion-grid>
            <ion-row>
                <!-- logo -->
                <ion-col size="4">
                    <ion-img [src]="details.companyData.summaryProfile.logo_url"
                             (click)="clickedCompanyImage()"
                             class="clickable">
                    </ion-img>
                </ion-col>
                <!-- buy / sell / favourite button -->
                <ion-col size="8" style="display: inline-grid;" class="ion-padding-start ion-padding-end">
                    <!-- <ion-button color="success" class="ion-margin-bottom" (click)="buySymbol()">
                         Buy
                     </ion-button>
                     <ion-button color="danger" class="ion-margin-bottom" (click)="sellSymbol()">
                         Sell
                     </ion-button> -->
                    <ion-button color="warning" class="ion-margin-bottom" (click)="addToFavourites()">
                        Add to favourites
                    </ion-button>
                </ion-col>
            </ion-row>

            <!-- 52 week price range -->
            <ion-row style="margin-top: 5px;">
                <ion-col size="12" class="ion-align-items-center">
                    <ion-title class="ion-text-center">52 week range</ion-title>
                    <app-fixed-range-slider [min]="details.summary.weekRangeFiveTwoMin"
                                            [max]="details.summary.weekRangeFiveTwoMax"
                                            [value]="details.summary.marketPrice"
                                            [valueDisplayName]="details.summary.marketPrice + '$'"
                                            [minDisplayName]="details.summary.weekRangeFiveTwoMin + '$'"
                                            [maxDisplayName]="details.summary.weekRangeFiveTwoMax + '$'"
                    >
                    </app-fixed-range-slider>
                </ion-col>
            </ion-row>
        </ion-grid>


        <ion-list style="margin-top: 16px;">
            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Name</ion-label>
                <ion-label style="font-weight: bold; color: #b46305;"> {{ details.summary.longName }}</ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Price</ion-label>
                <ion-label>
                    <span class="ion-margin-end">{{details.summary.marketPrice | currency: details.summary.currencySymbol }}</span>
                    <span [ngClass]="{
                        'price-up': details.summary.marketPrice - details.summary.previousClose >= 0,
                        'price-down': details.summary.marketPrice - details.summary.previousClose < 0}"
                    >
                        {{ details.summary.marketPrice - details.summary.previousClose | currency }}
                        ({{ 100 / details.summary.previousClose * details.summary.marketPrice - 100 | number }}%)
                    </span>
                </ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">52 week change</ion-label>
                <ion-label
                        style="font-weight: bold; color: #b46305;"> {{ details.companyData.defaultKeyStatistics.FiveTwoWeekChange * 100 }}</ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">S&P 500 52 week change</ion-label>
                <ion-label
                        style="font-weight: bold; color: #b46305;"> {{ details.companyData.defaultKeyStatistics.SandPFiveTwoWeekChange * 100 }}</ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Recommendation</ion-label>
                <ion-label
                        style="font-weight: bold; color: #b46305;"> {{ details.companyData.financialData.recommendationKey }}
                    ({{ details.companyData.financialData.recommendationMean }})
                </ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Shares outstanding</ion-label>
                <ion-label> {{ details.companyData.defaultKeyStatistics.sharesOutstanding | numberFormatter}}</ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Last split</ion-label>
                <ion-label> {{ details.companyData.defaultKeyStatistics.lastSplitDate}}
                    ({{ details.companyData.defaultKeyStatistics.lastSplitFactor }})
                </ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Sector</ion-label>
                <ion-label> {{ details.companyData.summaryProfile.sector }}</ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Employees</ion-label>
                <ion-label> {{ details.companyData.summaryProfile.fullTimeEmployees | numberFormatter }}</ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Employee income</ion-label>
                <ion-label> {{ details.metric.netIncomeEmployeeAnnual | numberFormatter}}</ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Employee revenue</ion-label>
                <ion-label> {{ details.metric.revenueEmployeeAnnual | numberFormatter }}</ion-label>
            </ion-item>

            <ion-item>
                <ion-label position="fixed" class="fixedLabel">Residence</ion-label>
                <ion-label>
                    {{ details.companyData.summaryProfile.city }},
                    <span *ngIf="details.companyData.summaryProfile.state"> {{ details.companyData.summaryProfile.state }}
                        , </span>
                    {{ details.companyData.summaryProfile.country }}
                </ion-label>
            </ion-item>

            <ion-item [href]="details.companyData.summaryProfile.website" class="clickable" target="_blank"
                      rel="noopener noreferrer">
                <ion-label position="fixed" class="fixedLabel">Website</ion-label>
                <ion-label style="color: #045aff"> {{ details.companyData.summaryProfile.website }}</ion-label>
            </ion-item>

            <!-- companyData.pageViews -->
        </ion-list>
    </ion-card-content>
</ion-card>
