<!--
              <ion-img [src]="details.companyData.summaryProfile.logo_url"
                       (click)="clickedCompanyImage()"
                       class="clickable">
              </ion-img>



              <ion-button color="warning" class="ion-margin-bottom" (click)="addToFavourites()">
                  Add to favourites
              </ion-button>

-->

<ng-container *ngIf="stockDetails.queryStockDetails as details">
    <!-- 52 week price range -->
    <ion-list class="ion-padding-horizontal">
        <ion-title class="ion-text-center">52 week range</ion-title>
        <app-fixed-range-slider [min]="details.summary.weekRangeFiveTwoMin"
                                [max]="details.summary.weekRangeFiveTwoMax"
                                [value]="details.summary.marketPrice"
                                [minDisplayName]="details.summary.weekRangeFiveTwoMin + '$'"
                                [maxDisplayName]="details.summary.weekRangeFiveTwoMax + '$'"
        >
        </app-fixed-range-slider>
    </ion-list>

    <ion-list>
        <ion-item [href]="details.companyData.summaryProfile.website" class="clickable" target="_blank">
            <ion-label position="fixed" class="fixedLabel">Name</ion-label>
            <ion-label class="stockName"> {{ details.summary.longName }}</ion-label>
        </ion-item>

        <ion-item>
            <ion-label position="fixed" class="fixedLabel">Price</ion-label>
            <ion-label>
                <span class="ion-margin-end">{{details.summary.marketPrice | currency: details.summary.currencySymbol }}</span>
                <span [ngClass]="{
                        'price-up': details.summary.marketPrice - details.summary.previousClose >= 0,
                        'price-down': details.summary.marketPrice - details.summary.previousClose < 0}"
                >
                        {{ details.summary.marketPrice - details.summary.previousClose | currency }}
                    ({{ 100 / details.summary.previousClose * details.summary.marketPrice - 100 | number: '1.2-2' }}%)
                    </span>
            </ion-label>
        </ion-item>

        <ion-item>
            <ion-label position="fixed" class="fixedLabel">Stock 1y change</ion-label>
            <ion-label [ngClass]="{
                        'price-up': details.companyData.defaultKeyStatistics.FiveTwoWeekChange * 100 >= 0,
                        'price-down': details.companyData.defaultKeyStatistics.FiveTwoWeekChange * 100  < 0}"
            >
                {{ details.companyData.defaultKeyStatistics.FiveTwoWeekChange | percent: '1.2-2' }}
            </ion-label>
        </ion-item>

        <ion-item>
            <ion-label position="fixed" class="fixedLabel">S&P500 1y change</ion-label>
            <ion-label>
                {{ details.companyData.defaultKeyStatistics.SandPFiveTwoWeekChange | percent: '1.2-2'  }}
            </ion-label>
        </ion-item>

        <ion-item>
            <ion-label position="fixed" class="fixedLabel">Recommendation</ion-label>
            <ion-label>
                  <span [ngClass]="{'price-up': details.companyData.financialData.recommendationKey === 'buy'}">
                      {{ details.companyData.financialData.recommendationKey }}
                  </span>
                ({{ details.companyData.financialData.recommendationMean }})
            </ion-label>
        </ion-item>

        <ion-item>
            <ion-label position="fixed" class="fixedLabel">Shares outstanding</ion-label>
            <ion-label> {{ details.companyData.defaultKeyStatistics.sharesOutstanding | numberFormatter}}</ion-label>
        </ion-item>

        <ion-item *ngIf="details.companyData.defaultKeyStatistics.lastSplitDate">
            <ion-label position="fixed" class="fixedLabel">Last split</ion-label>
            <ion-label> {{ details.companyData.defaultKeyStatistics.lastSplitDate * 1000 | date: 'dd.MM.yyyy'}}
                ({{ details.companyData.defaultKeyStatistics.lastSplitFactor }})
            </ion-label>
        </ion-item>

        <ion-item>
            <ion-label position="fixed" class="fixedLabel">Sector</ion-label>
            <ion-label> {{ details.companyData.summaryProfile.sector }}</ion-label>
        </ion-item>

        <ion-item>
            <ion-label position="fixed" class="fixedLabel">Employees</ion-label>
            <ion-label> {{ details.companyData.summaryProfile.fullTimeEmployees | numberFormatter }}</ion-label>
        </ion-item>

        <ion-item>
            <ion-label position="fixed" class="fixedLabel">Employee income & revenue</ion-label>
            <ion-label> {{ details.metric.netIncomeEmployeeAnnual | numberFormatter}}
                ({{ details.metric.revenueEmployeeAnnual | numberFormatter }})
            </ion-label>
        </ion-item>

        <ion-item>
            <ion-label position="fixed" class="fixedLabel">Residence</ion-label>
            <ion-label>
                {{ details.companyData.summaryProfile.city }},
                <span *ngIf="details.companyData.summaryProfile.state"> {{ details.companyData.summaryProfile.state }}
                    , </span>
                {{ details.companyData.summaryProfile.country }}
            </ion-label>
        </ion-item>
    </ion-list>
</ng-container>
