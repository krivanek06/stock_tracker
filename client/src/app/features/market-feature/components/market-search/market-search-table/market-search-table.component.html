<table mat-table [dataSource]="dataSource" matSort class="w-full g-clickable-table" [trackBy]="identify">
	<ng-container matColumnDef="symbol">
		<th mat-header-cell *matHeaderCellDef class="hidden sm:table-cell">Symbol</th>
		<td mat-cell *matCellDef="let row">
			<div class="flex items-center">
				<img [src]="row.companyQuote?.image" appDefaultImg class="st-symbol-image" />
				<div class="flex flex-col">
					<span class="g-color-white">{{ row.symbol }}</span>
					<span class="table-cell sm:hidden text-sm text-gray-500">{{ row.companyName }}</span>
				</div>
			</div>
		</td>
	</ng-container>

	<!-- price -->
	<ng-container matColumnDef="price">
		<th mat-header-cell *matHeaderCellDef class="hidden sm:table-cell">Price</th>
		<td mat-cell *matCellDef="let row">
			<div class="flex flex-col">
				<span [@marketValueChange]="row.marketPrice" class="text-right sm:text-left text-gray-200 sm:text-gray-400">
					{{ row.price | currency }}
				</span>
				<!-- small screen -->
				<div class="flex justify-end sm:hidden">
					<app-price-compare-item [compareToPrice]="row.companyQuote?.previousClose" [currentPrice]="row.price" pricePosition="right">
					</app-price-compare-item>
				</div>
			</div>
		</td>
	</ng-container>

	<!-- daily -->
	<ng-container matColumnDef="daily">
		<th mat-header-cell *matHeaderCellDef class="hidden sm:table-cell">Daily +/-</th>
		<td mat-cell *matCellDef="let row" class="hidden sm:table-cell">
			<app-price-compare-item [compareToPrice]="row.companyQuote?.previousClose" [currentPrice]="row.price"> </app-price-compare-item>
		</td>
	</ng-container>

	<!-- volume -->
	<ng-container matColumnDef="volume">
		<th mat-header-cell *matHeaderCellDef class="hidden sm:table-cell">Volume +/-</th>
		<td mat-cell *matCellDef="let row" class="hidden sm:table-cell">
			<app-price-compare-item [compareToPrice]="row.companyQuote?.avgVolume" [currentPrice]="row.companyQuote?.volume"> </app-price-compare-item>
		</td>
	</ng-container>

	<!-- market cap -->
	<ng-container matColumnDef="marketCap">
		<th mat-header-cell *matHeaderCellDef class="hidden sm:table-cell">Market cap.</th>
		<td mat-cell *matCellDef="let row" class="hidden sm:table-cell">{{ row.marketCap | numberFormatter }}</td>
	</ng-container>

	<!-- shares -->
	<ng-container matColumnDef="shares">
		<th mat-header-cell *matHeaderCellDef class="hidden md:table-cell">Shares</th>
		<td mat-cell *matCellDef="let row" class="hidden md:table-cell">{{ row.companyQuote?.sharesOutstanding | numberFormatter }}</td>
	</ng-container>

	<!-- PE -->
	<ng-container matColumnDef="peRatio">
		<th mat-header-cell *matHeaderCellDef class="hidden md:table-cell">PE</th>
		<td mat-cell *matCellDef="let row" class="hidden md:table-cell">{{ row.companyQuote?.pe ? (row.companyQuote?.pe | number:'1.2-2') : 'N/A'}}</td>
	</ng-container>

	<!-- EPS -->
	<ng-container matColumnDef="eps">
		<th mat-header-cell *matHeaderCellDef class="hidden lg:table-cell">EPS</th>
		<td mat-cell *matCellDef="let row" class="hidden lg:table-cell">
			{{ row.companyQuote?.eps ? (row.companyQuote?.eps | number:'1.2-2') : 'N/A' }}
		</td>
	</ng-container>

	<!-- beta -->
	<ng-container matColumnDef="beta">
		<th mat-header-cell *matHeaderCellDef class="hidden xl:table-cell">Beta</th>
		<td mat-cell *matCellDef="let row" class="hidden xl:table-cell">{{ row.beta ? (row.beta | number:'1.2-2') : 'N/A' }}</td>
	</ng-container>

	<!-- industry -->
	<ng-container matColumnDef="industry">
		<th mat-header-cell *matHeaderCellDef class="hidden lg:table-cell text-center">Industry</th>
		<td mat-cell *matCellDef="let row" class="hidden lg:table-cell">
			<mat-chip-list class="flex justify-center">
				<mat-chip class="g-color-primary g-background-color-transparent text-center text-xs">
					{{ row.industry ? (row.industry | split: ['—', ' ', '&']) : row.exchange | split: ['—', '_'] }}
				</mat-chip>
			</mat-chip-list>
		</td>
	</ng-container>

	<!-- 52 week -->
	<ng-container matColumnDef="52WeekRange">
		<th mat-header-cell *matHeaderCellDef class="hidden xl:table-cell">52 week range</th>
		<td mat-cell *matCellDef="let row" class="hidden xl:table-cell">
			<div style="width: 90%">
				<app-table-high-low-range [max]="row.companyQuote.yearHigh" [min]="row.companyQuote.yearLow" [value]="row.price"> </app-table-high-low-range>
			</div>
		</td>
	</ng-container>

	<tr mat-header-row *matHeaderRowDef="displayedColumns" class="hidden sm:contents"></tr>
	<tr mat-row *matRowDef="let row; columns: displayedColumns" (click)="itemClicked(row)"></tr>

	<!-- Row shown when there is no matching data. -->
	<!-- <tr class="mat-row" *matNoDataRow>
		<td class="mat-cell" colspan="11">
			<app-list-skeleton [itemLength]="20"></app-list-skeleton>
		</td>
	</tr> -->
</table>
