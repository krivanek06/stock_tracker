<mat-dialog-content>
	<ion-toolbar>
		<ion-buttons slot="end">
			<ion-button color="danger" (click)="dismissModal()" fill="clear">
				<ion-icon name="close-outline"></ion-icon>
				Close
			</ion-button>
		</ion-buttons>
	</ion-toolbar>

	<!-- body -->
	<div *ngIf="groupMemberOverview; else showLoader" class="p-4">
		<!-- user identification -->
		<div class="st-flex-space-between st-md-border-bottom">
			<div class="c-image-container-with-other-data">
				<!-- user imag / name / since -->
				<div class="c-image-container st-sm-border-bottom">
					<ion-img class="c-image" appDefaultImg [src]="groupMemberOverview.photoURL"></ion-img>
					<div class="st-flex-col">
						<ion-text class="st-font-size-18 st-font-0">{{ groupMemberOverview.nickName }}</ion-text>
						<ion-text *ngIf="sinceGroupMemberChecked" class="st-font-size-16">
							Position:
							<span
								class="st-font-size-20"
								[ngClass]="{
								'g-my-position-color': data.groupUser.currentPosition !== 1 && data.groupUser.currentPosition !== 2 && data.groupUser.currentPosition !== 3,
								'g-first-position-color': data.groupUser.currentPosition === 1,
								'g-second-position-color' :  data.groupUser.currentPosition === 2,
								'g-third-position-color': data.groupUser.currentPosition === 3
							}"
								>#{{ data.groupUser.currentPosition }}</span
							>
						</ion-text>
						<ion-text class="st-font-size-14 st-font-4">
							Since: {{ (sinceGroupMemberChecked ? data.groupUser.startedPortfolio.date : groupMemberOverview.accountCreatedDate) | date: 'dd.MM.yyyy'
							}}
						</ion-text>
						<ion-text *ngIf="sinceGroupMemberChecked" class="st-font-size-14 st-font-4">
							Joined group: {{ data.groupUser.startedPortfolio.date | relativeTime }}
						</ion-text>
					</div>
				</div>
				<!-- other user related data -->
				<div class="st-flex-col st-sm-border-bottom">
					<ion-text class="st-font-size-16"
						>Executed transactions: {{ stPortfolioSnapshotStarted.numberOfExecutedBuyTransactions +
						stPortfolioSnapshotStarted.numberOfExecutedSellTransactions }}</ion-text
					>
					<ion-text class="st-font-size-16">
						Executed <span class="st-price-up">BUY</span> transactions: {{ stPortfolioSnapshotStarted.numberOfExecutedBuyTransactions }}
					</ion-text>
					<ion-text class="st-font-size-16">
						Executed <span class="st-price-down">SELL</span> transactions: {{ stPortfolioSnapshotStarted.numberOfExecutedSellTransactions }}
					</ion-text>
				</div>
			</div>
			<div>
				<!-- checkbox -->
				<ion-item [matTooltip]="sinceGroupMemberChecked ? 'Show user progress since account creation' : 'Show user progress since joining group'">
					<ion-label class="st-small-left-space">Since group member</ion-label>
					<ion-checkbox color="primary" slot="start" [checked]="sinceGroupMemberChecked" (ionChange)="toggleGroupMemberOverview()"> </ion-checkbox>
				</ion-item>
			</div>
		</div>

		<!-- portfolio state overview -->
		<app-composed-searched-user-data [userData]="groupMemberOverview" [showHeaderInformation]="false"></app-composed-searched-user-data>
	</div>

	<ng-template #showLoader>
		<div class="spinner-container">
			<ion-spinner color="primary"></ion-spinner>
		</div>
	</ng-template>
</mat-dialog-content>
