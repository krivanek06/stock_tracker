<ion-item (click)="toggleFinancialChartView()" button class="ion-margin-bottom">
	<ion-label class="st-fit-content"> <ion-img appDefaultImg [src]="logoUrl" alt="symbol image" class="st-symbol-image"></ion-img> </ion-label>

	<!-- current price & price range by selector -->
	<ion-label class="st-flex-space-between">
		<div class="st-flex-col">
			<ion-text class="st-title ion-hide-sm-down">{{ name }}</ion-text>
			<ion-text class="st-title ion-hide-sm-up">{{ symbol }}</ion-text>
			<ion-text class="st-font-4 st-font-size-13"> {{ priceRangeFrom | currency }} - {{ priceRangeTo | currency }} </ion-text>
		</div>

		<div [@marketValueChange]="currentPrice" class="st-flex-col">
			<!-- current price & daily change -->
			<div class="st-flex-row" style="align-self: flex-end">
				<ion-text [@marketValueChange]="currentPrice" class="st-font-size-18" style="margin-right: 10px"> {{ currentPrice | currency }} </ion-text>
				<ion-text *ngIf="currentPrice" class="st-font-size-13 st-font-5">{{ currentPrice - closedPrice | currency }}</ion-text>
			</div>
			<!-- daily % change -->
			<app-price-change-item
				*ngIf="currentPrice"
				[isPercent]="true"
				[priceChange]="(currentPrice - closedPrice) / closedPrice"
				style="place-self: flex-end"
			>
			</app-price-change-item>
		</div>
	</ion-label>
</ion-item>

<!-- range buttons -->
<div class="st-flex-wrap">
	<ion-button
		(click)="segmentChanged(period)"
		*ngFor="let period of HistoricalPricePeriods"
		[color]="selectedRange === period ? 'primary' : 'medium'"
		fill="clear"
	>
		<ion-label>{{ period }}</ion-label>
	</ion-button>
</div>

<!-- chart -->
<div [style.height.px]="height">
	<!-- financial chart -->
	<app-financial-chart
		(priceRangeEmitter)="savePriceRange($event)"
		*ngIf="financialChart"
		[financialChart]="true"
		[height]="height"
		[price]="price"
		[showYAxis]="showYAxis"
		[volume]="volume"
	>
	</app-financial-chart>

	<!-- normal chart -->
	<app-financial-chart
		(priceRangeEmitter)="savePriceRange($event)"
		*ngIf="!financialChart"
		[financialChart]="false"
		[height]="height"
		[price]="price"
		[showYAxis]="showYAxis"
		[volume]="volume"
	>
	</app-financial-chart>

	<!-- loader -->
	<ng-container *ngIf="price.length === 0">
		<div class="spinner-container" style="min-height: 45vh">
			<ion-spinner *ngIf="!noDataFound" color="primary"></ion-spinner>
			<ion-text *ngIf="noDataFound" class="st-font-size-20">No data found</ion-text>
		</div>
	</ng-container>
</div>
