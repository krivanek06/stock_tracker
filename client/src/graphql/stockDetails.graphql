# Write your query or mutation here

## QUERY
##---------------------------
fragment SummaryResidanceFragment on SummaryResidance {
    city
    state
    country
    addressOne
    zip
}

fragment StockSummaryFragment on Summary {
    id
    sandPFiveTwoWeekChange
    lastSplitFactor
    lastSplitDate
    fullTimeEmployees
    netIncomeEmployeeAnnual
    revenueEmployeeAnnual
    website
    residance {
        ...SummaryResidanceFragment
    }
    ePSTTM
    earningsDate
    exDividendDate
    fiveTwoWeekRange
    oneyTargetEst
    pERatioTTM
    currency
    industry
    logo_url
    marketPrice
    previousClose
    recommendationKey
    recommendationMean
    sector
    targetEstOneyPercent
    symbol
    weekRangeFiveTwoMax
    weekRangeFiveTwoMin
    longName
    oneyTargetEst
    marketCap
    sharesOutstanding
    longBusinessSummary
    yearToDatePriceReturn
    volume
    avgVolume
}

fragment SheetDataFragment on SheetData {
    change
    data
    name
}

fragment balanceSheetDataFragment on BalanceSheetData {
    totalAssets {
        ...SheetDataFragment
    }
    totalCurrentAssets {
        ...SheetDataFragment
    }
    cash {
        ...SheetDataFragment
    }
    otherCurrentAssets {
        ...SheetDataFragment
    }
    netReceivables {
        ...SheetDataFragment
    }
    inventory {
        ...SheetDataFragment
    }
    prepaidAssets {
        ...SheetDataFragment
    }
    accumulatedComprehensiveIncome {
        ...SheetDataFragment
    }
    netTangibleAssets {
        ...SheetDataFragment
    }
    otherAssets {
        ...SheetDataFragment
    }
    goodwill {
        ...SheetDataFragment
    }
    totalSecuritiesForSale {
        ...SheetDataFragment
    }
    totalLiab {
        ...SheetDataFragment
    }
    totalCurrentLiabilities {
        ...SheetDataFragment
    }
    operatingLeaseLiability {
        ...SheetDataFragment
    }
    prepaidExpense {
        ...SheetDataFragment
    }
    accountsPayable {
        ...SheetDataFragment
    }
    otherCurrentLiab {
        ...SheetDataFragment
    }
    otherLiab {
        ...SheetDataFragment
    }
    shortTermInvestments {
        ...SheetDataFragment
    }
    longTermInvestments {
        ...SheetDataFragment
    }
    shortLongTermDebt {
        ...SheetDataFragment
    }
    longTermDebt {
        ...SheetDataFragment
    }
    netEquity {
        ...SheetDataFragment
    }
    totalStockholderEquity {
        ...SheetDataFragment
    }
    otherStockholderEquity {
        ...SheetDataFragment
    }
    propertyPlantEquipment {
        ...SheetDataFragment
    }
    retainedEarnings {
        ...SheetDataFragment
    }
    deferredRevenue {
        ...SheetDataFragment
    }
    treasuryStock {
        ...SheetDataFragment
    }
    commonStock {
        ...SheetDataFragment
    }
    commonStockValue {
        ...SheetDataFragment
    }
    endDate {
        ...SheetDataFragment
    }
}

fragment cashFlowDataFragment on CashFlowData {
    totalCashFromOperatingActivities {
        ...SheetDataFragment
    }
    netIncome {
        ...SheetDataFragment
    }
    incomeTax {
        ...SheetDataFragment
    }
    deferredTaxes {
        ...SheetDataFragment
    }
    accountsReceivable {
        ...SheetDataFragment
    }
    accruedExpenses {
        ...SheetDataFragment
    }
    CustomerDeposits {
        ...SheetDataFragment
    }
    shareBasedCompensation {
        ...SheetDataFragment
    }
    totalCashflowsFromInvestingActivities {
        ...SheetDataFragment
    }
    investments {
        ...SheetDataFragment
    }
    purchasesOfSecuritie {
        ...SheetDataFragment
    }
    marketSecurities {
        ...SheetDataFragment
    }
    acquisitionsOfBusinesses {
        ...SheetDataFragment
    }
    accruedEquipment {
        ...SheetDataFragment
    }
    otherCashflowsFromInvestingActivities {
        ...SheetDataFragment
    }
    totalCashFromFinancingActivities {
        ...SheetDataFragment
    }
    netBorrowings {
        ...SheetDataFragment
    }
    longTermDebtInsurance {
        ...SheetDataFragment
    }
    issuanceOfStock {
        ...SheetDataFragment
    }
    salesOfSecurities {
        ...SheetDataFragment
    }
    maturitiesOfSecurities {
        ...SheetDataFragment
    }
    dividendsPaid {
        ...SheetDataFragment
    }
    otherCashflowsFromFinancingActivities {
        ...SheetDataFragment
    }
    endDate {
        ...SheetDataFragment
    }
    depreciation {
        ...SheetDataFragment
    }
    commercialPaperRepayments {
        ...SheetDataFragment
    }
    shortTermDebtRepayments {
        ...SheetDataFragment
    }
    longTermDebtRepayments {
        ...SheetDataFragment
    }
    capitalExpenditures {
        ...SheetDataFragment
    }
    repurchaseOfStock {
        ...SheetDataFragment
    }
}


fragment incomeStatementFragment on IncomeStatementData {
    totalRevenue {
        ...SheetDataFragment
    }
    costOfRevenue {
        ...SheetDataFragment
    }
    grossProfit {
        ...SheetDataFragment
    }
    operatingIncome {
        ...SheetDataFragment
    }
    incomeBeforeTax {
        ...SheetDataFragment
    }
    incomeTaxProvision {
        ...SheetDataFragment
    }
    incomeTaxExpense {
        ...SheetDataFragment
    }
    netIncome {
        ...SheetDataFragment
    }
    netIncomeFromContinuingOps {
        ...SheetDataFragment
    }
    netIncomeApplicableToCommonShares {
        ...SheetDataFragment
    }

    totalOperatingExpenses {
        ...SheetDataFragment
    }
    administrativeExpense {
        ...SheetDataFragment
    }
    marketingExpense {
        ...SheetDataFragment
    }
    interestExpense {
        ...SheetDataFragment
    }
    researchDevelopment {
        ...SheetDataFragment
    }
    costOfSales {
        ...SheetDataFragment
    }
    totalOtherIncomeExpenseNet {
        ...SheetDataFragment
    }
    otherOperatingExpenses {
        ...SheetDataFragment
    }
    ebit {
        ...SheetDataFragment
    }
    endDate {
        ...SheetDataFragment
    }
    sellingGeneralAdministrative {
        ...SheetDataFragment
    }
    dilutedEarnings {
        ...SheetDataFragment
    }
    basicEarnings {
        ...SheetDataFragment
    }
    dividendsInCash {
        ...SheetDataFragment
    }
}



fragment growthEstimatesFragment on GrowthEstimates {
    currentQtr
    currentQtrPrct
    currentYear
    currentYearPrct
    nextFiveYearsperannum
    nextFiveYearsperannumPrct
    nextQtr
    nextQtrPrct
    nextYear
    nextYearPrct
    pastFiveYearsperannum
    pastFiveYearsperannumPrct
    name
}

fragment revenueEstimateFragment on RevenueEstimate {
    avgEstimate
    avgEstimateNumber
    highEstimate
    highEstimateNumber
    lowEstimate
    lowEstimateNumber
    noofAnalysts
    salesGrowthyearest
    salesGrowthyearestNumber
    yearAgoSales
    name
}

fragment statsFragment on Stats {
    priceSalesttm
    leveredFreeCashFlowttm
    forwardPEOne
    quarterlyEarningsGrowthyoy
    quarterlyRevenueGrowthyoy
    returnonEquityttm
    revenuePerSharettm
    totalCashPerSharemrq
    totalDebtEquitymrq
    totalDebtmrq
    trailingPE
    eBITDA
    bookValuePerSharemrq
    currentRatiomrq
    dilutedEPSttm
}

fragment recommendationFragment on Recommendations {
    buy
    hold
    period
    sell
    strongBuy
    strongSell
    symbol
}

fragment newsArticleFragment on NewsArticle {
    datetime
    headline
    image
    sourceName
    summary
    url
}

fragment defaultKeyStatisticsFragment on DefaultKeyStatistics {
    bookValue
    dateShortInterest
    earningsQuarterlyGrowth
    enterpriseToEbitda
    enterpriseToRevenue
    enterpriseValue
    fiveYearAverageReturn
    floatShares
    forwardEps
    forwardPE
    heldPercentInsiders
    heldPercentInstitutions
    lastFiscalYearEnd
    lastSplitDate
    lastSplitFactor
    mostRecentQuarter
    netIncomeToCommon
    nextFiscalYearEnd
    pegRatio
    priceHint
    priceToBook
    profitMargins
    sharesOutstanding
    sharesPercentSharesOut
    sharesShort
    sharesShortPreviousMonthDate
    sharesShortPriorMonth
    shortPercentOfFloat
    shortRatio
    trailingEps
}

fragment financialDataFragment on FinancialData {
    currentPrice
    currentRatio
    debtToEquity
    ebitda
    ebitdaMargins
    financialCurrency
    freeCashflow
    grossMargins
    grossProfits
    FloatOfAnalystOpinions
    operatingCashflow
    operatingMargins
    profitMargins
    quickRatio
    recommendationKey
    recommendationMean
    returnOnAssets
    returnOnEquity
    revenueGrowth
    revenuePerShare
    targetHighPrice
    targetLowPrice
    targetMeanPrice
    targetMedianPrice
    totalCash
    totalCashPerShare
    totalDebt
    totalRevenue
}

fragment metricFragment on Metric {
    fiveDayPriceReturnDaily
    fiveTwoWeekHigh
    fiveTwoWeekHighDate
    fiveTwoWeekLow
    fiveTwoWeekLowDate
    fiveTwoWeekPriceReturnDaily
    oneDayAverageTradingVolume
    oneThreeWeekPriceReturnDaily
    threeMonthAverageTradingVolume
    twoSixWeekPriceReturnDaily
    assetTurnoverAnnual
    assetTurnoverTTM
    beta
    bookValuePerShareAnnual
    bookValuePerShareQuarterly
    bookValueShareGrowthFiveY
    capitalSpendingGrowthFiveY
    cashFlowPerShareAnnual
    cashFlowPerShareTTM
    cashPerSharePerShareAnnual
    cashPerSharePerShareQuarterly
    currentEvfreeCashFlowAnnual
    currentEvfreeCashFlowTTM
    currentRatioAnnual
    currentRatioQuarterly
    ebitdPerShareTTM
    ebitdaCagrFiveY
    ebitdaInterimCagrFiveY
    epsBasicExclExtraItemsAnnual
    epsBasicExclExtraItemsTTM
    epsExclExtraItemsAnnual
    epsExclExtraItemsTTM
    epsGrowthFiveY
    epsGrowthQuarterlyYoy
    epsGrowthTTMYoy
    epsGrowthThreeY
    epsInclExtraItemsAnnual
    epsInclExtraItemsTTM
    epsNormalizedAnnual
    focfCagrFiveY
    freeCashFlowAnnual
    freeCashFlowPerShareTTM
    freeCashFlowTTM
    freeOperatingCashFlowrevenueFiveY
    freeOperatingCashFlowrevenueTTM
    grossMarginAnnual
    grossMarginFiveY
    grossMarginTTM
    inventoryTurnoverAnnual
    inventoryTurnoverTTM
    longTermDebtequityAnnual
    longTermDebtequityQuarterly
    marketCapitalization
    monthToDatePriceReturnDaily
    netDebtAnnual
    netDebtInterim
    netIncomeEmployeeAnnual
    netIncomeEmployeeTTM
    netInterestCoverageAnnual
    netInterestCoverageTTM
    netMarginGrowthFiveY
    netProfitMarginAnnual
    netProfitMarginFiveY
    netProfitMarginTTM
    operatingMarginAnnual
    operatingMarginFiveY
    operatingMarginTTM
    payoutRatioAnnual
    payoutRatioTTM
    pbAnnual
    pbQuarterly
    pcfShareTTM
    peBasicExclExtraTTM
    peExclExtraAnnual
    peExclExtraHighTTM
    peExclExtraTTM
    peExclLowTTM
    peInclExtraTTM
    peNormalizedAnnual
    pfcfShareAnnual
    pfcfShareTTM
    pretaxMarginAnnual
    pretaxMarginFiveY
    pretaxMarginTTM
    priceRelativeToSPFiveFiveTwoWeek
    priceRelativeToSPFiveFourWeek
    priceRelativeToSPFiveOneThreeWeek
    priceRelativeToSPFiveTwoSixWeek
    priceRelativeToSPFiveYtd
    psAnnual
    psTTM
    ptbvAnnual
    ptbvQuarterly
    quickRatioAnnual
    quickRatioQuarterly
    receivablesTurnoverAnnual
    receivablesTurnoverTTM
    revenueEmployeeAnnual
    revenueEmployeeTTM
    revenueGrowthFiveY
    revenueGrowthQuarterlyYoy
    revenueGrowthTTMYoy
    revenueGrowthThreeY
    revenuePerShareAnnual
    revenuePerShareTTM
    revenueShareGrowthFiveY
    roaRfy
    roaaFiveY
    roaeFiveY
    roaeTTM
    roeRfy
    roeTTM
    roiAnnual
    roiFiveY
    roiTTM
    tangibleBookValuePerShareAnnual
    tangibleBookValuePerShareQuarterly
    tbvCagrFiveY
    totalDebtCagrFiveY
    totalDebttotalEquityAnnual
    totalDebttotalEquityQuarterly
    yearToDatePriceReturnDaily
}

fragment dividensFragment on Dividens {
    currentDividendYieldTTM
    dividendGrowthRateFiveY
    dividendPerShareAnnual
    dividendPerShareFiveY
    dividendYieldFiveY
    dividendYieldIndicatedAnnual
    dividendsPerShareTTM
    exDividendDate
    trailingAnnualDividendRate
    trailingAnnualDividendYield
    forwardDividendYield
}

fragment historyFragment on UpgradeDowngradeHistoryData {
    action
    epochGradeDate
    firm
    fromGrade
    toGrade
}

fragment earningsChartFragment on EarningsChart {
    currentQuarterEstimate
    currentQuarterEstimateDate
    currentQuarterEstimateYear
    earningsDate
    quarterly {
        actual
        date
        estimate
    }
}

fragment financialChartDataFragment on FinancialsChartData {
    categories
    series {
        data
        name
    }
}

fragment earningsFragment on Earnings {
    earningsChart {
        ...earningsChartFragment
    }
    financialCurrency
    financialsChart {
        quarterly {
            ...financialChartDataFragment
        }
        yearly {
            ...financialChartDataFragment
        }
    }
}

fragment historicalMetricsDataFragment on HistoricalMetricsData {
    name
    dates
    data
}

# -----------------------------------------
# QUERY

query QueryStockDetails($symbol: String!) {
    queryStockDetails(symbol: $symbol) {
        id
        analysis {
            growthEstimates {
                ...growthEstimatesFragment
            }
            revenueEstimate {
                ...revenueEstimateFragment
            }
        }
        balanceSheet {
            balanceSheetHistoryQuarterly {
                ...balanceSheetDataFragment
            }
            balanceSheetHistoryYearly {
                ...balanceSheetDataFragment
            }
        }
        cashFlow {
            cashflowStatementHistoryQuarterly {
                ...cashFlowDataFragment
            }
            cashflowStatementHistoryYearly {
                ...cashFlowDataFragment
            }
        }
        incomeStatement {
            incomeStatementHistoryQuarterly {
                ...incomeStatementFragment
            }
            incomeStatementHistoryYearly {
                ...incomeStatementFragment
            }
        }
        stats {
            ...statsFragment
        }
        recommendation {
            ...recommendationFragment
        }
        stockNews {
            ...newsArticleFragment
        }
        companyData {
            defaultKeyStatistics {
                ...defaultKeyStatisticsFragment
            }
            earnings {
                ...earningsFragment
            }
            financialData {
                ...financialDataFragment
            }
            pageViews {
                longTermTrend
                midTermTrend
                shortTermTrend
            }
            upgradeDowngradeHistory {
                history {
                    ...historyFragment
                }
            }
        }
        summary {
            ...StockSummaryFragment
        }
        metric {
            ...metricFragment
        }
        dividends {
            ...dividensFragment
        }
        historicalMetrics {
            cashRatio {
                ...historicalMetricsDataFragment
            }
            currentRatio {
                ...historicalMetricsDataFragment
            }
            ebitPerShare {
                ...historicalMetricsDataFragment
            }
            eps {
                ...historicalMetricsDataFragment
            }
            grossMargin {
                ...historicalMetricsDataFragment
            }
            longtermDebtTotalAsset {
                ...historicalMetricsDataFragment
            }
            longtermDebtTotalCapital {
                ...historicalMetricsDataFragment
            }
            longtermDebtTotalEquity {
                ...historicalMetricsDataFragment
            }
            netDebtToTotalCapital {
                ...historicalMetricsDataFragment
            }
            netDebtToTotalEquity {
                ...historicalMetricsDataFragment
            }
            netMargin {
                ...historicalMetricsDataFragment
            }
            operatingMargin {
                ...historicalMetricsDataFragment
            }
            pretaxMargin {
                ...historicalMetricsDataFragment
            }
            salesPerShare {
                ...historicalMetricsDataFragment
            }
            sgaToSale {
                ...historicalMetricsDataFragment
            }
            totalDebtToEquity {
                ...historicalMetricsDataFragment
            }
            totalDebtToTotalAsset {
                ...historicalMetricsDataFragment
            }
            totalDebtToTotalCapital {
                ...historicalMetricsDataFragment
            }
            totalRatio {
                ...historicalMetricsDataFragment
            }
        }
        institutionOwnerships {
            organization
            pctHeld
            position
            reportDate
            value
        }
        insiderTransactions {
            filerName
            filerRelation
            shares
            startDate
            transactionText
            value
        }
    }
}

query QueryStockSummary($symbol: String!) {
    queryStockSummary(symbol: $symbol) {
        ...StockSummaryFragment
    }
}

query QueryStockSummaries($symbolPrefix: String!) {
    queryStockSummaries(symbolPrefix: $symbolPrefix) {
        summaries {
            ...StockSummaryFragment
        }
    }
}
