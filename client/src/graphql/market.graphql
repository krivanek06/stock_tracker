fragment STMarketChartDataResultCombinedFragment on STMarketChartDataResultCombined {
    currentDate
    currentValue
    data
    documentKey
    name
    parentName
    lastUpdate
}

fragment STMarketTopTableCryptoDataFragment on STMarketTopTableCryptoData {
    circulatingSupply
    coinImageUrl
    currency
    fiftyTwoWeekHigh
    fiftyTwoWeekLow
    marketCap
    quoteType
    regularMarketChange
    regularMarketChangePercent
    regularMarketClosed
    regularMarketOpen
    regularMarketPrice
    regularMarketVolume
    shortName
    symbol
    volume24Hr
    volumeAllCurrencies
}

fragment STMarketTopTableSymbolDataFragment on STMarketTopTableSymbolData {
    averageDailyVolume3Month
    currency
    fiftyTwoWeekHigh
    fiftyTwoWeekLow
    logo_url
    longName
    marketCap
    quoteType
    recommendationKey
    recommendationMean
    regularMarketChange
    regularMarketChangePercent
    regularMarketOpen
    regularMarketPreviousClose
    regularMarketPrice
    regularMarketVolume
    shortName
    symbol
    trailingPE
}

# -----------------------------------------
# QUERY
query QuerySTMarketHistoryOverview {
    querySTMarketHistoryOverview {
        sp500 {
            ...STMarketChartDataResultCombinedFragment
        }
        bonds {
            ...STMarketChartDataResultCombinedFragment
        }
        inflation_rate {
            ...STMarketChartDataResultCombinedFragment
        }
        misery_index {
            ...STMarketChartDataResultCombinedFragment
        }
        treasury_yield {
            ...STMarketChartDataResultCombinedFragment
        }
        investor_sentiment {
            ...STMarketChartDataResultCombinedFragment
        }
        bitcoin {
            ...STMarketChartDataResultCombinedFragment
        }
        lastUpdate
    }
}


fragment STEventCalendarDataFragment on STEventCalendarData {
    date
    day
    month
    startdatetime
    year
    earningscount
    economiceventcount
    ipoinfocount
    splitscount
}

fragment STEventCalendarEarningsDataFragment on STEventCalendarEarningsData {
    companyshortname
    epsactual
    epsestimate
    epssurprisepct
    gmtOffsetMilliSeconds
    quoteType
    startdatetime
    startdatetimetype
    ticker
    timeZoneShortName
}

# QUERY --------------------


query QuerySymbolHistoricalPrices($symbol: String!, $period: String!) {
    querySymbolHistoricalPrices(symbol: $symbol, period: $period) {
        livePrice
        symbol
        period
        price
        volume
    }
}


query QueryMarketDailyOverview {
    queryMarketDailyOverview {
        stocks_day_gainers {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_day_losers {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_day_active {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_undervalued_growth_stocks {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_growth_technology_stocks {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_undervalued_large_caps {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_aggressive_small_caps {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_small_cap_gainers {
            ...STMarketTopTableSymbolDataFragment
        }
        stock_suggestions {
            summary {
                ...StockSummaryFragment
            }
            historicalData {
                livePrice
                price
                symbol
                period
            }
        }
        top_crypto {
            ...STMarketTopTableCryptoDataFragment
        }
        news {
            ...newsArticleFragment
        }
        events {
            ...STEventCalendarDataFragment
        }
        earnings {
            ...STEventCalendarEarningsDataFragment
        }
        lastUpdate
    }
}

query QueryStMarketCalendarEvents($date: String!) {
    queryStMarketCalendarEvents(date: $date) {
        events {
            ...STEventCalendarDataFragment
        }
    }
}

query QueryStMarketCalendarEventsEarnings($date: String!) {
    queryStMarketCalendarEventsEarnings(date: $date) {
        earnings {
            ...STEventCalendarEarningsDataFragment
        }
    }
}


query QueryStMarketAllCategories {
    queryStMarketAllCategories {
        categories {
            data {
                documentKey
                name
            }
            name
        }
    }
}


query QueryStMarketData($key: String!) {
    queryStMarketData(key: $key) {
        ...STMarketChartDataResultCombinedFragment
    }
}
