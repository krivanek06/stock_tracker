fragment STMarketChartDataFragment on STMarketChartDataResult {
    currentDate
    currentValue
    data
    documentKey
    name
    parentName
    quandalKey
    lastUpdate
}

fragment STMarketChartDataResultContainerFragment on STMarketChartDataResultContainer {
    result {
        ...STMarketChartDataFragment
    }
    timestamp
    keyName
}

fragment STMarketTopTableCryptoDataFragment on STMarketTopTableCryptoData {
    circulatingSupply
    coinImageUrl
    currency
    fiftyTwoWeekHigh
    fiftyTwoWeekLow
    marketCap
    quoteType
    regularMarketChange
    regularMarketChangePercent
    regularMarketClosed
    regularMarketOpen
    regularMarketPrice
    regularMarketVolume
    shortName
    symbol
    volume24Hr
    volumeAllCurrencies
}

fragment STMarketTopTableSymbolDataFragment on STMarketTopTableSymbolData {
    averageDailyVolume3Month
    currency
    fiftyTwoWeekHigh
    fiftyTwoWeekLow
    logo_url
    longName
    marketCap
    quoteType
    recommendationKey
    recommendationMean
    regularMarketChange
    regularMarketChangePercent
    regularMarketOpen
    regularMarketPreviousClose
    regularMarketPrice
    regularMarketVolume
    shortName
    symbol
    trailingPE
}

# -----------------------------------------
# QUERY

query QuerySTMarketHistoryOverview {
    querySTMarketHistoryOverview {
        sp500 {
            ...STMarketChartDataResultContainerFragment
        }
        bonds {
            ...STMarketChartDataResultContainerFragment
        }
        social_security {
            ...STMarketChartDataResultContainerFragment
        }
        consumer_price_index_states {
            ...STMarketChartDataResultContainerFragment
        }
        consumer_us_price_index {
            ...STMarketChartDataResultContainerFragment
        }
        producer_us_price_index {
            ...STMarketChartDataResultContainerFragment
        }
        inflation_rate {
            ...STMarketChartDataResultContainerFragment
        }
        employment {
            ...STMarketChartDataResultContainerFragment
        }
        manufacturing {
            ...STMarketChartDataResultContainerFragment
        }
        exports {
            ...STMarketChartDataResultContainerFragment
        }
        misery_index {
            ...STMarketChartDataResultContainerFragment
        }
        treasury_yield {
            ...STMarketChartDataResultContainerFragment
        }
        investor_sentiment {
            ...STMarketChartDataResultContainerFragment
        }
        bitcoin {
            ...STMarketChartDataResultContainerFragment
        }
        lastUpdate
    }
}


fragment STEventCalendarDataFragment on STEventCalendarData {
    date
    day
    month
    startdatetime
    year
    earningscount
    economiceventcount
    ipoinfocount
    splitscount
}

fragment STEventCalendarEarningsDataFragment on STEventCalendarEarningsData {
    companyshortname
    epsactual
    epsestimate
    epssurprisepct
    gmtOffsetMilliSeconds
    quoteType
    startdatetime
    startdatetimetype
    ticker
    timeZoneShortName
}

# QUERY --------------------

query QueryMarketDailyOverview {
    queryMarketDailyOverview {
        stocks_day_gainers {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_day_losers {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_day_active {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_undervalued_growth_stocks {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_growth_technology_stocks {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_undervalued_large_caps {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_aggressive_small_caps {
            ...STMarketTopTableSymbolDataFragment
        }
        stocks_small_cap_gainers {
            ...STMarketTopTableSymbolDataFragment
        }
        stock_suggestions {
            summary {
                ...StockSummaryFragment
            }
            historicalData {
                livePrice
                price
                symbol
                period
            }
        }
        top_crypto {
            ...STMarketTopTableCryptoDataFragment
        }
        news {
            ...newsArticleFragment
        }
        events {
            ...STEventCalendarDataFragment
        }
        earnings {
            ...STEventCalendarEarningsDataFragment
        }
        lastUpdate
    }
}

query QueryStMarketCalendarEvents($date: String!) {
    queryStMarketCalendarEvents(date: $date) {
        events {
            ...STEventCalendarDataFragment
        }
    }
}

query QueryStMarketCalendarEventsEarnings($date: String!) {
    queryStMarketCalendarEventsEarnings(date: $date) {
        earnings {
            ...STEventCalendarEarningsDataFragment
        }
    }
}


query QueryStMarketAllCategories {
    queryStMarketAllCategories {
        categories {
            data {
                documentKey
                name
            }
            name
        }
    }
}

query QueryMultipleStMarketData($key: String!) {
    queryMultipleStMarketData(key: $key) {
        result {
            currentDate
            currentValue
            documentKey
            name
            parentName
            quandalKey
            lastUpdate
            data
        }
    }
}

query QueryStMarketData($key: String!) {
    queryStMarketData(key: $key) {
        currentDate
        currentValue
        documentKey
        name
        parentName
        quandalKey
        lastUpdate
        data
    }
}

