<ion-list *ngIf="stockWatchlist" style="width: fit-content">
    <ion-list-header>
        <!-- edit button -->
        <ion-button (click)="toggleEdit()" class="clickable">
            <ion-icon name="pencil" class="grey-regular-icon"></ion-icon>
        </ion-button>
        <!-- header info -->
        <ion-label style="padding-left: 10px;" *ngIf="!editing">
            <p class="table-header">{{ stockWatchlist.name }}   [ {{ stockWatchlist.stocks.length }} ]</p>
            <p>Created at {{ stockWatchlist.timestamp |  date: 'dd/MM/yyyy' }}</p>
        </ion-label>

        <!-- form to edit watchlist name -->
        <ion-item [hidden]="!editing" class="watchlist-edit-container">
            <ion-label position="fixed" class="watchlist-edit-input">
                <app-inline-input-form
                        [widthInPercent]="70"
                        (creationEmitter)="editWatchlistName($event)"
                        (closingEmitter)="toggleEdit()">
                </app-inline-input-form>
            </ion-label>
            <ion-label class=" content-fit ion-text-end">
                <ion-button shape="round"
                            color="#fafafa"
                            fill="outline"
                            class="regularFont negative-button"
                            (click)="deleteWatchlist()">
                    Delete watchlist
                </ion-button>
            </ion-label>
        </ion-item>
    </ion-list-header>

    <!-- table attributes -->
    <ion-item style="font-weight: bold;" class="ion-margin-top ion-no-padding">
        <ion-label position="fixed" class="symbol-image-attribute"></ion-label>
        <ion-label position="fixed" style="min-width: 80px; max-width: 80px;">Symbol</ion-label>
        <ion-label position="fixed" style="min-width: 80px; max-width: 80px;"> Price</ion-label>
        <ion-label position="fixed" style="min-width: 150px; max-width: 150px;" class="ion-hide-md-down"> 52 week
            range
        </ion-label>
        <ion-label position="fixed" style="min-width: 250px; max-width: 250px;" class="ion-hide-sm-down"> Earnings
            date
        </ion-label>
    </ion-item>

    <!-- table data -->
    <ion-item *ngFor="let stockInfo of stockWatchlist.stocksDetails" class="ion-no-padding">
        <ion-button>
            <ion-img [src]="stockInfo.basicInfo.logoUrl"
                     class="symbol-image "
                     (click)="showChart(stockInfo.basicInfo.shortName, stockInfo.id)">
            </ion-img>
        </ion-button>
        <ion-label position="fixed" style="min-width: 80px; max-width: 80px;">
            {{ stockInfo.id }}
        </ion-label>
        <ion-label position="fixed" style="min-width: 80px; max-width: 80px;">
            {{ stockInfo.overview.currentPrice | currency}}
        </ion-label>
        <ion-label position="fixed" style="min-width: 150px; max-width: 150px;" class="ion-hide-md-down">
            {{ stockInfo.overview.weekLow52 | currency }} - {{ stockInfo.overview.weekHigh52 | currency }}
        </ion-label>
        <ion-label position="fixed" style="min-width: 250px; max-width: 250px;" class="ion-hide-sm-down">
            {{ stockInfo.overview.earningsDate }}
        </ion-label>
        <ion-button shape="round"
                    fill="outline"
                    class="regularFont clickable ion-margin-end"
                    (click)="detailsClicked(stockInfo.id)">
            Details
        </ion-button>
        <ion-button class="negative-button" (click)="deleteSymbolFromWatchlist(stockInfo.id)">
            <ion-icon name="trash-bin" style="font-size: 28px;"></ion-icon>
        </ion-button>
    </ion-item>
</ion-list>
